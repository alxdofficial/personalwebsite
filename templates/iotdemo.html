
<!DOCTYPE html><!--  This site was created in Webflow. https://www.webflow.com  -->
<!--  Last Published: Mon Aug 22 2022 23:14:51 GMT+0000 (Coordinated Universal Time)  -->
<html data-wf-page="63040745756886690ed5432f" data-wf-site="62f0a9bcac1acae2293389f6">
<head>
  <meta charset="utf-8">
  <title>iot demo</title>
  <meta content="iot demo" property="og:title">
  <meta content="iot demo" property="twitter:title">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <meta content="Webflow" name="generator">
  <link href="/static/css/normalize.css" rel="stylesheet" type="text/css">
  <link href="/static/css/webflow.css" rel="stylesheet" type="text/css">
  <link href="/static/css/personal-website-e88243.webflow.css" rel="stylesheet" type="text/css">
  <!-- [if lt IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js" type="text/javascript"></script><![endif] -->
  <script type="text/javascript">!function(o,c){var n=c.documentElement,t=" w-mod-";n.className+=t+"js",("ontouchstart"in o||o.DocumentTouch&&c instanceof DocumentTouch)&&(n.className+=t+"touch")}(window,document);</script>
  <link href="/static/images/favicon.ico" rel="shortcut icon" type="image/x-icon">
  <link href="/static/images/webclip.png" rel="apple-touch-icon">

  <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.js" integrity="sha512-d6nObkPJgV791iTGuBoVC9Aa2iecqzJRE0Jiqvk85BhLHAPhWqkuBiQb1xz2jvuHNqHLYoN3ymPfpiB1o+Zgpw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-date-fns/dist/chartjs-adapter-date-fns.bundle.min.js"></script>
  <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.5.0/socket.io.js"></script>
</head>
<body class="body-3" style="margin-top: 20px">
<script>
    const socket = io()
        socket.on('connect', function() {
            console.log('socket connected')
        })
    var maxentries = 10
</script>
  <div class="div-block-13">
    <div class="description-heading">Ambient sensors in server room</div>
  </div>
  <div class="graph-block">
    <div class="graph-div-outer">
      <div class="graph-title" id="temptext">Temperature in C</div>
      <div class="graph-div">
          <canvas id="tempchart" style="width: 100%;height: 100%;position: absolute;z-index: 2;"></canvas>
          <script>

            var entrycounttemp = 0

            const ctx1 = document.getElementById('tempchart');
            const ctxcontext = ctx1.getContext('2d');
            var tempchartgradient = ctxcontext.createLinearGradient(0, 0, 0, 350);
            tempchartgradient.addColorStop(0, 'rgba(196, 119, 47,.85)');
            tempchartgradient.addColorStop(1, 'rgba(196, 119, 47,0)');
            const tempchart = new Chart(ctx1, {
                type: 'line',
                data: {
                    labels: ["init","stabilize"],
                    datasets: [{
                      label: "temp",
                      data: [28,31],
                      fill: true,
                      backgroundColor:tempchartgradient,
                      borderColor: 'rgba(0,0,0,0)',
                      borderWidth: 0
                    }]
                },
                options: {
                    scales: {
                        y: {
                            gridLines: {
                                display:false
                            },
                            suggestedMin:25,
                            suggestedMax:34
                        }
                    }
                }
            });

        socket.on('update-temp-chart', function (json) {
            var newtime = json.time
            var newtemp = parseFloat(json.temp).toFixed(1)
            entrycounttemp++
            console.log(entrycounttemp)
            if (entrycounttemp >= maxentries) {
                tempchart.data.labels.shift()
                tempchart.data.datasets[0].data.shift()
            }
            tempchart.data.labels.push(newtime)
            tempchart.data.datasets[0].data.push(newtemp);
            tempchart.update()
            document.getElementById('temptext').innerHTML = "Temperature is " + newtemp + " C"
        })


        </script>

      </div>
      <div class="graph-title" id="humtext">Humidity %</div>
      <div class="graph-div">
          <canvas id="humchart" style="width: 100%;height: 100%;position: absolute;z-index: 2;"></canvas>
          <script>
            var entrycounthum = 0

            const ctx2 = document.getElementById('humchart');
            const ctxcontext2 = ctx2.getContext('2d');
            var humchartgradientgree = ctxcontext.createLinearGradient(0, 0, 0, 350);
            humchartgradientgree.addColorStop(0, 'rgba(41, 76, 82,1)');
            humchartgradientgree.addColorStop(1, 'rgba(41, 76, 82,0)');
            const humchart = new Chart(ctx2, {
                type: 'line',
                data: {
                    labels: ["init","stabilize"],
                    datasets: [{
                      label: "humidity",
                      data: [50,70],
                      fill: true,
                      backgroundColor:humchartgradientgree,
                      borderColor: 'rgba(0,0,0,0)',
                      borderWidth: 0
                    }]
                },
                options: {
                    scales: {
                        y: {
                            beginAtZero:true,
                            gridLines: {
                                display:false
                            },
                        }
                    }
                }
            });

            socket.on('update-hum-chart', function (json) {
            var newtime = json.time
            var newhum = parseFloat(json.hum).toFixed(1)
            entrycounthum++
            console.log(entrycounttemp)
            if (entrycounthum >= maxentries) {
                humchart.data.labels.shift()
                humchart.data.datasets[0].data.shift()
            }
            humchart.data.labels.push(newtime)
            humchart.data.datasets[0].data.push(newhum);
            humchart.update()
            document.getElementById('humtext').innerHTML = "Humidity is " + newhum + "%"
        })
          </script>
      </div>
      <div class="graphbg"></div>
    </div>
  </div>
  <script src="https://d3e54v103j8qbb.cloudfront.net/js/jquery-3.5.1.min.dc5e7f18c8.js?site=62f0a9bcac1acae2293389f6" type="text/javascript" integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
  <script src="/static/js/webflow.js" type="text/javascript"></script>
  <!-- [if lte IE 9]><script src="https://cdnjs.cloudflare.com/ajax/libs/placeholders/3.0.2/placeholders.min.js"></script><![endif] -->
</body>
</html>